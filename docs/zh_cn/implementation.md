# 实现原理

配置加载包括如下几个过程：
- 配置文件拉取：
    - 以 bfe 热加载 API 触发后会读取的 配置文件列表 为集合，从 API Server 拉取 一到多个 配置文件
    - 如果没有更新的配置，退出本次配置加载
- 配置文件落盘：
    - 将现有的正式的指定配置文件列表拷贝到临时文件夹中
    - 使用更新的配置创建或者覆盖临时文件夹中的配置
- 触发bfe热加载：
    - 通过调用bfe的热加载接口通知bfe读取临时文件夹的配置完成热加载
    - 如果失败，退出本次配置加载
- 将临时文件夹配置设置为正式配置
    - 删除当前正式文件夹(如果是个软连接，原始文件也将同时删除)
    - 建立名为 正式文件夹的软连接，指向临时文件夹